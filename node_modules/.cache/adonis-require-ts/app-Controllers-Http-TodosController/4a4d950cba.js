"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Todo_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Todo"));
class TodosController {
    async index({ request }) {
        const todos = await Todo_1.default.query();
        return todos;
    }
    async show({ request, params }) {
        try {
            const todo = await Todo_1.default.find(params.id);
            if (todo) {
                return todo;
            }
        }
        catch (error) {
            console.log(error);
        }
    }
    async store({ auth, request, response }) {
        const user = await auth.authenticate();
        const todo = new Todo_1.default();
        todo["title"] = request.input("title").notNullable();
        todo["desc"] = request.input("desc").notNullable();
        todo["done"] = request.input("desc").defaultTo("false");
        await todo.save();
        return todo;
    }
}
exports.default = TodosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9kb3NDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVG9kb3NDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsaUZBQW1DO0FBRW5DLE1BQXFCLGVBQWU7SUFDM0IsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBdUI7UUFDakQsTUFBTSxLQUFLLEdBQUcsTUFBTSxjQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRU0sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQXVCO1FBQ3hELElBQUk7WUFDRixNQUFNLElBQUksR0FBRyxNQUFNLGNBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3hDLElBQUksSUFBSSxFQUFFO2dCQUNSLE9BQU8sSUFBSSxDQUFDO2FBQ2I7U0FDRjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFpQk0sS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUF1QjtRQUNqRSxNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUV2QyxNQUFNLElBQUksR0FBRyxJQUFJLGNBQUksRUFBRSxDQUFDO1FBRXhCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRXJELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRW5ELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUV4RCxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNsQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7Q0FZRjtBQXpERCxrQ0F5REMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSBcIkBpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHRcIjtcbmltcG9ydCBUb2RvIGZyb20gXCJBcHAvTW9kZWxzL1RvZG9cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9kb3NDb250cm9sbGVyIHtcbiAgcHVibGljIGFzeW5jIGluZGV4KHsgcmVxdWVzdCB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgY29uc3QgdG9kb3MgPSBhd2FpdCBUb2RvLnF1ZXJ5KCk7XG4gICAgcmV0dXJuIHRvZG9zO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIHNob3coeyByZXF1ZXN0LCBwYXJhbXMgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2RvID0gYXdhaXQgVG9kby5maW5kKHBhcmFtcy5pZCk7XG4gICAgICBpZiAodG9kbykge1xuICAgICAgICByZXR1cm4gdG9kbztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8vICAgcHVibGljIGFzeW5jIHVwZGF0ZSh7IGF1dGgsIHJlcXVlc3QsIHBhcmFtcyB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gIC8vICAgICBjb25zdCB0b2RvID0gYXdhaXQgVG9kby5maW5kKHBhcmFtcy5pZCk7XG4gIC8vICAgICBpZiAodG9kbykge1xuICAvLyAgICAgICB0b2RvLnRpdGxlID0gcmVxdWVzdC5pbnB1dChcInRpdGxlXCIpO1xuICAvLyAgICAgICB0b2RvLmRlc2MgPSByZXF1ZXN0LmlucHV0KFwiZGVzY1wiKTtcbiAgLy8gICAgICAgdG9kby5zdGF0dXMgPSByZXF1ZXN0LmlucHV0KFwic3RhdHVzXCIpO1xuXG4gIC8vICAgICAgIGlmIChhd2FpdCB0b2RvLnNhdmUoKSkge1xuICAvLyAgICAgICAgIHJldHVybiB0b2RvO1xuICAvLyAgICAgICB9XG4gIC8vICAgICAgIHJldHVybjsgLy8gNDIyXG4gIC8vICAgICB9XG4gIC8vICAgICByZXR1cm47IC8vIDQwMVxuICAvLyAgIH1cblxuICBwdWJsaWMgYXN5bmMgc3RvcmUoeyBhdXRoLCByZXF1ZXN0LCByZXNwb25zZSB9OiBIdHRwQ29udGV4dENvbnRyYWN0KSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGguYXV0aGVudGljYXRlKCk7XG5cbiAgICBjb25zdCB0b2RvID0gbmV3IFRvZG8oKTtcblxuICAgIHRvZG9bXCJ0aXRsZVwiXSA9IHJlcXVlc3QuaW5wdXQoXCJ0aXRsZVwiKS5ub3ROdWxsYWJsZSgpO1xuXG4gICAgdG9kb1tcImRlc2NcIl0gPSByZXF1ZXN0LmlucHV0KFwiZGVzY1wiKS5ub3ROdWxsYWJsZSgpO1xuXG4gICAgdG9kb1tcImRvbmVcIl0gPSByZXF1ZXN0LmlucHV0KFwiZGVzY1wiKS5kZWZhdWx0VG8oXCJmYWxzZVwiKTtcblxuICAgIGF3YWl0IHRvZG8uc2F2ZSgpO1xuICAgIHJldHVybiB0b2RvO1xuICB9XG5cbiAgLy8gICBwdWJsaWMgYXN5bmMgZGVzdHJveSh7XG4gIC8vICAgICByZXNwb25zZSxcbiAgLy8gICAgIGF1dGgsXG4gIC8vICAgICByZXF1ZXN0LFxuICAvLyAgICAgcGFyYW1zLFxuICAvLyAgIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcbiAgLy8gICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoLmF1dGhlbnRpY2F0ZSgpO1xuICAvLyAgICAgY29uc3QgdG9kbyA9IGF3YWl0IFRvZG8ucXVlcnkoKS53aGVyZShcImlkXCIsIHBhcmFtcy5pZCkuZGVsZXRlKCk7XG4gIC8vICAgICByZXR1cm4gcmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6IFwiRGVsZXRlZCBzdWNjZXNzZnVsbHlcIiB9KTtcbiAgLy8gICB9XG59XG4iXX0=